---
import { createSliderItemDetailModel } from "@/models/sliderItemModels";
import { useRouteUtils } from "@/utils/routeUtils";

// Shared component.
import ListWithThumbnail from "@/components/routes/protected/ListWithThumbnail.astro";

// Dependencies.
const routeUtils = useRouteUtils();

// Model.
const responseDtos = await Astro.locals.services.sliderItemService.getListAsync();
const model = responseDtos.map((dto) => createSliderItemDetailModel(dto));
---

<ListWithThumbnail
  model={model}
  pageTitle="Danh sách trình chiếu ảnh"
  name={(item) => item.title ?? `Ảnh #${item.id}`}
  description={(item) => item.title ?? `Ảnh #${item.id}`}
  createRoutePath={routeUtils.getProtectedSliderItemCreateRoutePath()}
/>